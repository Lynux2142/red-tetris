{"version":3,"sources":["../../params.js","containers/socket.js","containers/context.js","components/styles/StyledTetris.js","components/Game/Tetris/Tetris.js","components/Game/Tetris/useInterval.js","components/Game/Tetris/Matrix.js","components/Game/Tetris/movments.js","components/styles/StyledMenuButton.js","components/Menu/MenuButton.js","components/styles/StyledStartButton.js","components/Menu/StartButton.js","components/styles/StyledSoundButton.js","audio/tetris.mp3","components/Menu/SoundButton.js","components/styles/StyledLeaveButton.js","components/Menu/LeaveButton.js","components/styles/StyledMenu.js","components/Menu/Menu.js","components/styles/StyledPlayersData.js","components/PlayersData/PlayersData.js","components/styles/StyledGame.js","components/Game/Game.js","components/Home/Home.js","components/Rooms/RoomList/RoomList.js","components/Rooms/Join_room/Join_room.js","components/Rooms/Rooms.js","components/New_room/New_room.js","containers/App.js","index.js"],"names":["params","server","host","port","this","module","exports","socket","io","SocketContext","React","createContext","StyledTetrisWrapper","styled","div","props","color","StyledTetris","Tetris","HTMLgrid","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","rotate","vec","center","angle","normVec","x","y","Math","round","cos","sin","translateX","unit","translateY","tetriminos","points","map","value","Mat2","PI","Right","position","Left","Down","StyledMenuButton","gameOver","MenuButton","text","StyledStartButton","button","StartButton","onClick","memo","StyledSoundWrapper","StyledMuteButton","StyledVolumeButton","SoundButton","useState","volume","setVolume","mute","setMute","useSound","TetrisSound","play","stop","className","StyledLeaveButton","LeaveButton","useContext","history","useHistory","emit","push","StyledMenu","aside","Menu","score","startGame","StyledPlayersData","tbody","StyledPlayer","tr","PlayersData","getSpectrum","spectrum","result","keys","key","concat","Object","players","i","name","StyledGame","Game","WIDTH","HEIGHT","tetriList","setTetriList","tetri","setTetri","tetriShadow","setTetriShadow","Array","fill","row","backGrid","setBackGrid","frontGrid","setFrontGrid","setHTMLgrid","setPlayers","room","setRoom","setGameOver","setScore","regex","testCollision","newTetri","find","realPos","fillTetri","movment","fillTetriShadow","newGrid","collision","shift","length","prev","splice","removeCompletLine","tmp","style","backgroundColor","borderWidth","borderColor","on","initGame","set","urlParams","exec","location","hash","error","alert","gameInProgress","role","tabIndex","onKeyDown","e","window","addEventListener","indexOf","keyCode","preventDefault","handlerKeydown","document","getElementById","focus","Home","RoomList","rooms","createRoom","joinRoom","disabled","JoinRoom","roomName","setName","placeholder","onChange","target","type","Rooms","setRooms","joinName","setJoinName","Display","New_room","App","Provider","path","exact","component","ReactDom","render"],"mappings":"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","file":"static/js/main.538a4c04.chunk.js","sourcesContent":["const params = {\n  server: {\n    host: 'localhost',\n    port: '3004',\n    get url(){ return ('http://' + this.host + ':' + this.port); }\n  },\n};\n\nmodule.exports = params;\n","import io from 'socket.io-client';\nimport params from '../../../params.js';\n\nconst herokuServer = 'https://red-tetris-malg.herokuapp.com/';\n\nconst socket = io(herokuServer);\n\nexport default socket;\n","import React from 'react';\nimport socket from './socket.js';\n\nconst SocketContext = React.createContext(socket);\n\nexport default SocketContext;\n","import styled from 'styled-components';\n\nexport const StyledTetrisWrapper = styled.div`\n  padding: 3.5%;\n  max-width: 50%;\n  .cell {\n    border: solid 1px;\n    width: 2vw;\n    height: 2vw;\n    background: rgba(${props => props.color}, 0.8);\n    border-bottom-color: rgba(${props => props.color}, 0.1);\n    border-right-color: rgba(${props => props.color}, 1);\n    border-top-color: rgba(${props => props.color}, 1);\n    border-left-color: rgba(${props => props.color}, 0.3);\n  }\n`;\n\nexport const StyledTetris = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n`;","import React, { useEffect, useState, useContext } from \"react\";\nimport { StyledTetrisWrapper, StyledTetris } from \"../../styles/StyledTetris\";\n\nconst Tetris = (props) => {\n  return (\n    <StyledTetrisWrapper>\n      <StyledTetris>\n        <table>\n          <tbody>{props.HTMLgrid}</tbody>\n        </table>\n      </StyledTetris>\n    </StyledTetrisWrapper>\n  );\n};\n\nexport default Tetris;\n","import { useRef, useEffect } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef(null);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  useEffect(() => {\n    function tick() {\n      if (typeof savedCallback?.current !== 'undefined') {\n        savedCallback?.current();\n      }\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","function rotate(vec, center, angle) {\n  const normVec = {\n    x: vec.x - center.x,\n    y: vec.y - center.y\n  };\n  const rotVec = {\n    x: Math.round((normVec.x * Math.cos(angle) - normVec.y * Math.sin(angle)) + center.x),\n    y: Math.round((normVec.x * Math.sin(angle) + normVec.y * Math.cos(angle)) + center.y)\n  };\n  return (rotVec);\n}\n\nfunction translateX(vec, unit) {\n  return ({ x: vec.x + unit, y: vec.y });\n}\n\nfunction translateY(vec, unit) {\n  return ({ x: vec.x, y: vec.y + unit });\n}\n\nexport default { rotate, translateX, translateY };\n","import Mat2 from './Matrix.js';\n\nfunction rotate(tetriminos) {\n  const test = { ...tetriminos, points: tetriminos.points.map(value => Mat2.rotate(value, tetriminos.center, 90 * Math.PI / 180)) };\n  return (test);\n}\n\nfunction Right(tetriminos) {\n  return ({ ...tetriminos, position: Mat2.translateX(tetriminos.position, 1) });\n}\n\nfunction Left(tetriminos) {\n  return ({ ...tetriminos, position: Mat2.translateX(tetriminos.position, -1) });\n}\n\nfunction Down(tetriminos) {\n  return ({ ...tetriminos, position: Mat2.translateY(tetriminos.position, 1) });\n}\n\nexport default { rotate, Right, Left, Down };\n","import styled from 'styled-components';\n\nexport const StyledMenuButton = styled.div`\n  box-sizing: border-box;\n  display: flex;\n  align-items: center; \n  margin: 0 0 20px 0;\n  padding: 20px;\n  border: 4px solid #333;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  color: ${props => (props.gameOver ? 'red' : '#999')};\n  background: #000;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 0.8rem;\n`;","import React from 'react';\nimport { StyledMenuButton } from '../styles/StyledMenuButton';\n\nconst MenuButton = ({ gameOver, text }) => (\n    <StyledMenuButton gameOver={gameOver}>{text}</StyledMenuButton>\n);\n\nexport default MenuButton;\n","import styled from 'styled-components';\n\nexport const StyledStartButton = styled.button`\n  box-sizing: border-box;\n  margin: 0 0 20px 0;\n  padding: 20px;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 1rem;\n  outline: none;\n  cursor: pointer;\n`;","import React from 'react';\nimport { StyledStartButton } from '../styles/StyledStartButton';\n\nconst StartButton = ({ callback }) => (\n    <StyledStartButton onClick={callback}>Start Game</StyledStartButton>\n);\n\nexport default React.memo(StartButton);\n","import styled from 'styled-components';\n\nexport const StyledSoundWrapper = styled.div`\n  display: flex;\n  overflow: auto;\n`;\n\nexport const StyledMuteButton = styled.button`\n  box-sizing: border-box;\n  margin: 0 0 0.5vw 0;\n  padding: 1vw;\n  min-height: 0.2vw;\n  width: 100%;\n  border-radius: 1vw;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 1rem;\n  outline: none;\n  cursor: pointer;\n`;\n\nexport const StyledVolumeButton = styled.button`\n  box-sizing: border-box;\n  margin: 0 0 0.5vw 0;\n  padding: 0.5vw;\n  min-height: 0.1vw;\n  width: 100%;\n  border-radius: 1vw;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 1rem;\n  outline: none;\n  cursor: pointer;\n`;","export default __webpack_public_path__ + \"static/media/tetris.7ffe6109.mp3\";","import React, { useState, useEffect } from \"react\";\nimport { StyledVolumeButton, StyledSoundWrapper, StyledMuteButton } from \"../styles/StyledSoundButton\";\nimport useSound from \"use-sound\";\nimport TetrisSound from \"../../audio/tetris.mp3\";\n\nconst SoundButton = () => {\n  const [volume, setVolume] = useState(0.1);\n  const [mute, setMute] = useState(false);\n  const [play, { stop }] = useSound(TetrisSound, { volume: mute ? 0 : volume });\n\n  const muteMusic = () => {\n    setMute(!mute);\n  };\n\n  const decrease = () => {\n    setVolume(volume - 0.01);\n  };\n\n  const increase = () => {\n    setVolume(volume + 0.01);\n  };\n\n  useEffect(() => {\n    play();\n    return () => {\n      stop();\n    };\n  }, [play]);\n\n  return (\n    <StyledSoundWrapper>\n      <StyledVolumeButton className=\"btn btn-danger\" onClick={decrease}>\n        -\n      </StyledVolumeButton>\n      <StyledMuteButton className=\"btn btn-danger\" onClick={muteMusic}>\n          { mute ? ( \"Unmute\") : ( \"Mute\")}\n      </StyledMuteButton>\n      <StyledVolumeButton className=\"btn btn-danger\" onClick={increase}>\n        +\n      </StyledVolumeButton>\n    </StyledSoundWrapper>\n  );\n};\n\nexport default SoundButton;\n","import styled from 'styled-components';\n\nexport const StyledLeaveButton = styled.button`\n  box-sizing: border-box;\n  margin: 0 0 20px 0;\n  padding: 20px;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 1rem;\n  outline: none;\n  cursor: pointer;\n`;","import React, { useContext } from \"react\";\nimport SocketContext from '../../containers/context.js';\nimport { useHistory } from 'react-router-dom';\nimport { StyledLeaveButton } from \"../styles/StyledLeaveButton\";\n\nconst LeaveButton = () => {\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n\n  const leave = () => {\n    socket.emit(\"leaveRoom\");\n    history.push(\"/Rooms\");\n  };\n\n  return (\n    <div>\n      <StyledLeaveButton className=\"btn btn-danger\" onClick={leave}>\n        Leave Room\n      </StyledLeaveButton>\n    </div>\n  );\n};\n\nexport default LeaveButton;\n","import styled from 'styled-components';\n\nexport const StyledMenu = styled.aside`\n    max-width: 25%;\n`;","import React from \"react\";\nimport MenuButton from \"./MenuButton\";\nimport StartButton from \"./StartButton\";\nimport SoundButton from \"./SoundButton\";\nimport LeaveButton from \"./LeaveButton\";\nimport { StyledMenu } from \"../styles/StyledMenu\";\n\nconst Menu = (props) => {\n  return (\n    <StyledMenu>\n      {props.gameOver ? (\n        <MenuButton gameOver={props.gameOver} text=\"Game Over\" />\n      ) : (\n        <div>\n          <SoundButton />\n        </div>\n      )}\n      <MenuButton text={`Score: ${props.score}`} />\n      <StartButton callback={props.startGame} />\n      <LeaveButton />\n    </StyledMenu>\n  );\n};\n\nexport default Menu;\n","import styled from 'styled-components';\n\nexport const StyledPlayersData = styled.tbody`\n`;\n\nexport const StyledPlayer = styled.tr`\n    text-align:center;\n    border: solid;\n    th {\n        border: solid;\n        font-weight:bold;\n        font-size:2vw;\n        padding-right: 20px;\n    }\n    td {\n        font-size:1vw;\n    }\n`;","import React from 'react';\nimport { StyledPlayersData, StyledPlayer } from '../styles/StyledPlayersData';\n\nconst PlayersData = (props) => {\n    const getSpectrum = (spectrum) => {\n        let result = '';\n        for (let key of spectrum.keys()) {\n            if (key != 0) {\n                result = result.concat('-' + spectrum[key]);\n            } else {\n                result = result.concat(spectrum[key]);\n            }\n        }\n        return result;\n    };\n\n    return (\n        <table>\n            <StyledPlayersData>\n                <StyledPlayer>\n                    <th>Player</th>\n                    <th>Score</th>\n                    <th>Spectrum</th>\n                </StyledPlayer>\n                {\n                    Object.keys(props.players).map(\n                        (key, i) =>\n                            <StyledPlayer key={i}>\n                                <td>{props.players[key].name}</td>\n                                <td>{props.players[key].score}</td>\n                                <td>\n                                    {getSpectrum(props.players[key].spectrum)}\n                                </td>\n                            </StyledPlayer>\n                    )\n                }\n            </StyledPlayersData>\n        </table>\n    );\n};\n\nexport default PlayersData;","import styled from 'styled-components';\n\nexport const StyledGame = styled.div`\n  display: flex;\n  flew-flow: row wrap;\n  width: 100%;\n  font-family: Pixel, Arial, Helvetica, sans-serif;\n  font-size: 0.8rem;\n  aside {\n    width: 100%;\n    max-width: 200px;\n    display: block;\n    padding: 0 20px;\n  }\n`;","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Tetris from './Tetris/Tetris';\nimport SocketContext from \"../../containers/context\";\nimport useInterval from \"./Tetris/useInterval\";\nimport movment from \"./Tetris/movments\";\nimport Menu from \"../Menu/Menu\";\nimport PlayersData from \"../PlayersData/PlayersData\";\nimport { StyledGame } from \"../styles/StyledGame\";\n\nconst Game = () => {\n  const WIDTH = 10;\n  const HEIGHT = 20;\n  const [tetriList, setTetriList] = useState([]);\n  const [tetri, setTetri] = useState({});\n  const [tetriShadow, setTetriShadow] = useState({});\n  const [backGrid, setBackGrid] = useState(\n    new Array(HEIGHT).fill().map((row) => new Array(WIDTH).fill(\"white\"))\n  );\n  const [frontGrid, setFrontGrid] = useState(\n    new Array(HEIGHT).fill().map((row) => new Array(WIDTH).fill(0))\n  );\n  const [HTMLgrid, setHTMLgrid] = useState([]);\n\n  const socket = useContext(SocketContext);\n  const [players, setPlayers] = useState({});\n  const [room, setRoom] = useState({});\n  const [gameOver, setGameOver] = useState(true);\n  const [score, setScore] = useState(0);\n  const history = useHistory();\n  const regex = /#([a-zA-Z]+)\\[([a-zA-Z]+)\\]/;\n\n  const testCollision = (newTetri) => {\n    let result = newTetri.points.find((value) => {\n      const realPos = {\n        x: newTetri.position.x + value.x,\n        y: newTetri.position.y + value.y,\n      };\n      return (\n        realPos.x < 0 ||\n        realPos.x >= WIDTH ||\n        realPos.y < 0 ||\n        realPos.y >= HEIGHT ||\n        backGrid[realPos.y][realPos.x] !== \"white\"\n      );\n    });\n    return result ? true : false;\n  };\n\n  const fillTetriShadow = (tetri) => {\n    while (!testCollision(tetri)) {\n      tetri = movment.Down(tetri);\n    }\n    tetri = {...tetri, position: {...tetri.position, y: tetri.position.y - 1}};\n    setTetriShadow(tetri);\n    return (tetri);\n  };\n\n  const fillTetri = (newTetri) => {\n    const tetriShadow = fillTetriShadow(newTetri);\n    let newGrid = frontGrid.map(row => row.map((value) => 0));\n    setTetri(newTetri);\n    tetriShadow.points.map(value => {\n      newGrid[tetriShadow.position.y + value.y][tetriShadow.position.x + value.x] = 2;\n    });\n    newTetri.points.map(value => {\n      newGrid[newTetri.position.y + value.y][newTetri.position.x + value.x] = 1;\n    });\n    setFrontGrid([...newGrid]);\n  };\n\n  const removeCompletLine = () => {\n    let newGrid = [...backGrid];\n    let score = 0;\n    backGrid.map((row, i) => {\n      if (!row.find(value => (value === \"white\" || value === \"grey\"))) {\n        score += 100;\n        newGrid.splice(i, 1);\n        newGrid.splice(0, 0, new Array(WIDTH).fill(\"white\"));\n        socket.emit('sendBlackbar');\n      }\n    });\n    setScore(prev => prev + (score === 400 ? score * 2 : score));\n    setBackGrid(newGrid);\n    return ([...newGrid]);\n  };\n\n  const getSpectrum = (newGrid) => {\n    let spectrum = [];\n    for (let x = 0; x < WIDTH; ++x) {\n      let tmp = 0;\n      for (let y = 0; y < HEIGHT; ++y) {\n        if (newGrid[y][x] === 'white') {\n          ++tmp;\n        }\n      }\n      spectrum.push(tmp);\n    }\n    return (spectrum);\n  };\n\n  const collision = () => {\n    let newGrid = [...backGrid];\n    tetri.points.map((value) => {\n      newGrid[tetri.position.y + value.y][tetri.position.x + value.x] =\n        tetri.color;\n    });\n    setBackGrid([...newGrid]);\n    const newTetri = tetriList.shift();\n    if (tetriList.length < 3) {\n      socket.emit('getTetris', tetriminos => {\n        setTetriList(prev => [...prev, tetriminos]);\n      });\n    }\n    if (!testCollision(newTetri)) {\n      newGrid = removeCompletLine();\n      fillTetri(newTetri);\n    } else {\n      setGameOver(true);\n      socket.emit('playerLose');\n    }\n    socket.emit('updateSpectrum', getSpectrum(newGrid));\n  };\n\n  const handlerKeydown = (e) => {\n    if (e.keyCode === 37) {\n      if (!testCollision(movment.Left(tetri))) {\n        fillTetri(movment.Left(tetri));\n      }\n    } else if (e.keyCode === 39) {\n      if (!testCollision(movment.Right(tetri))) {\n        fillTetri(movment.Right(tetri));\n      }\n    } else if (e.keyCode === 38) {\n      if (!testCollision(movment.rotate(tetri))) {\n        fillTetri(movment.rotate(tetri));\n      }\n    } else if (e.keyCode === 40) {\n      if (!testCollision(movment.Down(tetri))) {\n        setScore(prev => prev + 1);\n        fillTetri(movment.Down(tetri));\n      } else {\n        collision();\n      }\n    } else if (e.keyCode === 32) {\n      fillTetri(tetriShadow);\n      setScore(prev => prev + (tetriShadow.position.y - tetri.position.y));\n    }\n  };\n\n  useEffect(() => {\n    let HTMLgrid = [];\n\n    for (let y = 0; y < HEIGHT; ++y) {\n      let row = [];\n      for (let x = 0; x < WIDTH; ++x) {\n        row.push(\n          <td className='cell'\n            style={{\n              backgroundColor: (frontGrid[y][x] === 1) ? tetri.color : backGrid[y][x],\n              borderWidth: (frontGrid[y][x] === 2) ? '2px' : '1px',\n              borderColor: (frontGrid[y][x] === 2) ? tetri.color : 'black'\n            }}\n            key={`${y * WIDTH + x}`}\n          ></td>\n        );\n      }\n      HTMLgrid.push(<tr key={`${y}`}>{row}</tr>);\n    }\n    setHTMLgrid(HTMLgrid);\n  }, [frontGrid]);\n\n  useInterval(() => {\n    if (!gameOver) {\n      if (!testCollision(movment.Down(tetri))) {\n        fillTetri(movment.Down(tetri));\n      } else {\n        collision();\n      }\n    }\n  }, 1000);\n\n  useEffect(() => {\n    socket.on('getBlackbar', () => {\n      setBackGrid(prev => {\n        prev.splice(HEIGHT, 0, new Array(WIDTH).fill(\"grey\"));\n        prev.splice(0, 1);\n        return (prev);\n      });\n      setTetri(prev => {\n        prev.position.y -= 1;\n        return (prev);\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    socket.on('newTetris', tetriminos => {\n      setTetriList(prev => [...prev, tetriminos]);\n    });\n  }, []);\n\n  const initGame = (tetriminos, set) => {\n    // Reset everything\n    const newTetri = tetriminos;\n    let newGrid = [...backGrid];\n    newGrid = newGrid.map((row) => row.map((value) => \"white\"));\n    setBackGrid(newGrid);\n    setTetriList([...set]);\n    setTetri(newTetri);\n    setGameOver(false);\n    setScore(0);\n  };\n\n  useEffect(() => {\n    socket.on('getSetTetris', (tetriminos, set) => {\n      initGame(tetriminos, set);\n    });\n  }, []);\n\n  const startGame = () => {\n    document.getElementById('gameSection').focus();\n    socket.emit('start', (tetriminos, set) => {\n      initGame(tetriminos, set);\n    });\n  };\n\n  useEffect(() => {\n    const urlParams = regex.exec(location.hash);\n\n    if (!urlParams) {\n      history.push('/Home');\n    } else {\n      socket.emit('joinRoom', urlParams[1], urlParams[2], (error, room) => {\n        if (error) {\n          history.push('/Rooms');\n          alert(error);\n        } else {\n          if (room.gameInProgress) {\n            history.push('/Rooms');\n            alert('Game in Progress');\n          } else {\n            setRoom(room);\n            setPlayers(room.players);\n          }\n        }\n      });\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    socket.on('updatePlayers', (players) => {\n      setPlayers(players);\n    });\n  }, [players, socket]);\n\n  useEffect(() => {\n    return (() => {\n      socket.emit('leaveRoom');\n    });\n  }, []);\n\n  return (\n    <div className='container'>\n      <h1>{room.name}</h1>\n      <StyledGame id=\"gameSection\" role=\"button\" tabIndex=\"0\" onKeyDown={(e) => {\n        window.addEventListener('keydown', (e) => {\n          if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n            e.preventDefault();\n          }\n        }, false);\n        handlerKeydown(e);\n      }}>\n        <Tetris\n          HTMLgrid={HTMLgrid} />\n        <Menu gameOver={gameOver} startGame={startGame} score={score} />\n        <PlayersData players={players} />\n      </StyledGame>\n    </div>\n  );\n};\n\nexport default Game;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst Home = () => {\n  const history = useHistory();\n\n  const play = () => {\n    history.push('/Rooms');\n  };\n\n  return (\n    <div className='container'>\n      <h1>Bienvenue sur Red Tetris</h1>\n      <button className='btn btn-danger' onClick={play}>Play</button>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from 'react';\n\nconst RoomList = ({ rooms, createRoom, joinRoom }) => {\n  return (\n    <div className='container'>\n      <h1>Room list</h1>\n      <div className='list-group mb-3'>\n      {\n        Object.keys(rooms).map((key, i) => {\n          return (\n            <li className='list-group-item p-1' key={i}>\n              <label><b>{rooms[key].name}</b> <b>({Object.keys(rooms[key].players).length})</b></label>\n              <button className='btn btn-danger float-right' disabled={rooms[key].gameInProgress} onClick={() => joinRoom(rooms[key].name)}>Join</button>\n            </li>\n          );\n        })\n      }\n      </div>\n      <button className='btn btn-danger' onClick={createRoom}>Create New Room</button>\n    </div>\n  );\n};\n\nexport default RoomList;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst JoinRoom = ({ roomName }) => {\n  const [name, setName] = useState('');\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const join = (e) => {\n    e.preventDefault();\n    if (name) {\n      history.push(`/#${roomName}[${name}]`);\n    }\n  };\n\n  return (\n    <div className='container'>\n      <h1>Join \"{roomName}\"</h1>\n      <form>\n        <div className='form-group'>\n          <input className='form-control' placeholder='Username' onChange={handleChange} />\n        </div>\n        <input className='btn btn-danger' type='submit' value='Join' onClick={join} />\n      </form>\n    </div>\n  );\n};\n\nexport default JoinRoom;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\nimport RoomList from './RoomList/RoomList.js';\nimport JoinRoom from './Join_room/Join_room.js';\nimport './Rooms.css';\n\nconst Rooms = () => {\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [rooms, setRooms] = useState({});\n  const [joinName, setJoinName] = useState(null);\n\n  const createRoom = () => {\n    history.push('/New-room');\n  };\n\n  const joinRoom = (roomName) => {\n    setJoinName(roomName);\n  };\n\n  const Display = () => {\n    if (joinName) {\n      return (<JoinRoom roomName={joinName} />);\n    } else {\n      return (<RoomList rooms={rooms} createRoom={createRoom} joinRoom={joinRoom} />);\n    }\n  };\n\n  useEffect(() => {\n    socket.emit('getRooms', (rooms) => {\n      setRooms(rooms);\n    });\n  }, [socket]);\n\n  useEffect(() => {\n    socket.on('updateRooms', (rooms) => {\n      setRooms(rooms);\n    });\n  }, [rooms]);\n\n  return (\n    <Display />\n  );\n};\n\nexport default Rooms;\n","import React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\n\nconst New_room = () => {\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleRoomChange = (e) => {\n    setRoom(e.target.value);\n  };\n\n  const create = (e) => {\n    e.preventDefault();\n    if (name && room) {\n      history.push(`/#${room}[${name}]`);\n    }\n  };\n\n  return (\n    <div className='container'>\n      <h1>New Room Creation</h1>\n      <form>\n        <div className='form-group'>\n          <input className='form-control' type='text' placeholder='Username' onChange={handleNameChange} />\n        </div>\n        <div className='form-group'>\n          <input className='form-control' type='text' placeholder='Room name' onChange={handleRoomChange} />\n        </div>\n        <input className='btn btn-danger' type='submit' value='Create' onClick={create} />\n      </form>\n    </div>\n  );\n};\n\nexport default New_room;\n","import React from 'react';\nimport { BrowserRouter as Routes, Route } from 'react-router-dom';\nimport socket from './socket.js';\nimport SocketContext from './context.js';\nimport Game from '../components/Game/Game.js';\nimport Home from '../components/Home/Home.js';\nimport Rooms from '../components/Rooms/Rooms.js';\nimport New_room from '../components/New_room/New_room.js';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <SocketContext.Provider value={socket}>\n      <Routes>\n        <Route path='/' exact component={Game} />\n        <Route path='/Home' component={Home} />\n        <Route path='/Rooms' component={Rooms} />\n        <Route path='/New-room' component={New_room} />\n      </Routes>\n    </SocketContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './containers/App.js';\n\nReactDom.render(<App />, document.getElementById('tetris'));\n"],"sourceRoot":""}