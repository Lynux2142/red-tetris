{"version":3,"sources":["client/containers/socket.js","client/containers/context.js","client/components/Game/Tetris/useInterval.js","client/components/Game/Tetris/Matrix.js","client/components/Game/Tetris/Tetriminos.js","client/components/Game/Tetris/Tetris.js","client/audio/tetris.mp3","client/components/Game/Game.js","client/components/Home/Home.js","client/components/Room/Room.js","client/components/New_room/New_room.js","client/components/Join_room/Join_room.js","client/containers/App.js","index.js","params.js"],"names":["socket","io","params","server","url","SocketContext","React","createContext","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","Mat2","x","y","this","center","angle","normVec","newVec","Math","cos","sin","round","unit","Tetriminos","tetri","position","color","map","value","rotate","PI","translateX","translateY","Bar","Ji","El","Cube","Es","Pyra","Zi","Tetris","WIDTH","tetriList","useState","random","setTetri","Array","fill","row","backGrid","setBackGrid","frontGrid","setFrontGrid","HTMLgrid","setHTMLgrid","testCollision","newTetri","find","realPos","fillTetri","newGrid","removeCompletLine","i","splice","handlerKeydown","e","keyCode","moveLeft","moveRight","moveDown","alert","document","addEventListener","removeEventListener","push","style","backgroundColor","className","onClick","Game","useContext","players","setPlayers","room","setRoom","history","useHistory","regex","volume","setVolume","useSound","TetrisSound","play","stop","exec","location","hash","emit","error","on","name","Object","keys","key","Home","Room","rooms","setRooms","roomName","New_room","setName","type","placeholder","onChange","target","preventDefault","JoinRoom","App","Provider","path","exact","component","ReactDom","render","getElementById","host","port","module","exports"],"mappings":"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","file":"static/js/main.87f76947.chunk.js","sourcesContent":["import io from 'socket.io-client';\nimport params from '../../params';\n\nconst socket = io(params.server.url);\n\nexport default socket;\n","import React from 'react';\nimport socket from './socket.js';\n\nconst SocketContext = React.createContext(socket);\n\nexport default SocketContext;\n","import { useRef, useEffect } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef(null);\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  useEffect(() => {\n    function tick() {\n      if (typeof savedCallback?.current !== 'undefined') {\n        savedCallback?.current();\n      }\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;\n","class Mat2 {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  rotate(center, angle) {\n    const normVec = new Mat2(this.x - center.x, this.y - center.y);\n    const newVec = new Mat2(\n      normVec.x * Math.cos(angle) - normVec.y * Math.sin(angle),\n      normVec.x * Math.sin(angle) + normVec.y * Math.cos(angle)\n    );\n    const rotVec = new Mat2(Math.round(newVec.x + center.x), Math.round(newVec.y + center.y));\n    return (rotVec);\n  }\n\n  translateX(unit) {\n    const newVec = new Mat2(this.x + unit, this.y);\n    return (newVec);\n  }\n\n  translateY(unit) {\n    const newVec = new Mat2(this.x, this.y + unit);\n    return (newVec);\n  }\n}\n\nexport default Mat2;\n","import Mat2 from './Matrix.js';\n\nclass Tetriminos {\n  constructor(tetri, position, center, color) {\n    this.tetri = [...tetri];\n    this.position = position;\n    this.center = center;\n    this.color = color;\n  }\n\n  rotate() {\n    return (new Tetriminos(this.tetri.map(value => value.rotate(this.center, 90 * Math.PI / 180)), this.position, this.center, this.color));\n  }\n\n  moveRight() {\n    return (new Tetriminos([...this.tetri], this.position.translateX(1), this.center, this.color));\n  }\n\n  moveLeft() {\n    return (new Tetriminos([...this.tetri], this.position.translateX(-1), this.center, this.color));\n  }\n\n  moveDown() {\n    return (new Tetriminos([...this.tetri], this.position.translateY(1), this.center, this.color));\n  }\n}\n\nexport class Bar extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(0, 1), new Mat2(1, 1), new Mat2(2, 1), new Mat2(3, 1)], position, new Mat2(1.5, 1.5), 'lightblue');\n  }\n}\n\nexport class Ji extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(0, 0), new Mat2(0, 1), new Mat2(1, 1), new Mat2(2, 1)], position, new Mat2(1, 1), 'blue');\n  }\n}\n\nexport class El extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(2, 0), new Mat2(0, 1), new Mat2(1, 1), new Mat2(2, 1)], position, new Mat2(1, 1), 'orange');\n  }\n}\n\nexport class Cube extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(0, 0), new Mat2(1, 0), new Mat2(0, 1), new Mat2(1, 1)], position, new Mat2(0.5, 0.5), 'yellow');\n  }\n}\n\nexport class Es extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(1, 0), new Mat2(2, 0), new Mat2(0, 1), new Mat2(1, 1)], position, new Mat2(1, 1), 'green');\n  }\n}\n\nexport class Pyra extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(1, 0), new Mat2(0, 1), new Mat2(1, 1), new Mat2(2, 1)], position, new Mat2(1, 1), 'purple');\n  }\n}\n\nexport class Zi extends Tetriminos {\n  constructor(position) {\n    super([new Mat2(0, 0), new Mat2(1, 0), new Mat2(1, 1), new Mat2(2, 1)], position, new Mat2(1, 1), 'red');\n  }\n}\n\nexport default Tetriminos;\n","import React, { useEffect, useState } from 'react';\nimport useInterval from './useInterval.js';\nimport { Bar, Ji, El, Cube, Es, Pyra, Zi } from './Tetriminos.js';\nimport Mat2 from './Matrix.js';\nimport './Tetris.css';\n\nconst Tetris = () => {\n  const WIDTH = 10;\n  const HEIGHT = 20;\n  const tetriList = [new Bar(new Mat2(3, -1)), new Ji(new Mat2(3, 0)), new El(new Mat2(3, 0)), new Cube(new Mat2(3, 0)), new Es(new Mat2(3, 0)), new Pyra(new Mat2(3, 0)), new Zi(new Mat2(3, 0))];\n  const [tetri, setTetri] = useState(tetriList[Math.round(Math.random() * 6)]);\n  const [backGrid, setBackGrid] = useState(new Array(HEIGHT).fill().map(row => new Array(WIDTH).fill('white')));\n  const [frontGrid, setFrontGrid] = useState(new Array(HEIGHT).fill().map(row => new Array(WIDTH).fill(0)));\n  const [HTMLgrid, setHTMLgrid] = useState([]);\n\n  const testCollision = (newTetri) => {\n    let result = newTetri.tetri.find(value => {\n      const realPos = new Mat2(newTetri.position.x + value.x, newTetri.position.y + value.y);\n      return (realPos.x < 0 || realPos.x >= WIDTH || realPos.y < 0 || realPos.y >= HEIGHT || backGrid[realPos.y][realPos.x] !== 'white');\n    });\n    return (result ? true : false);\n  };\n\n  const fillTetri = (newTetri) => {\n    let newGrid = frontGrid.map(row => row.map(value => 0));\n    setTetri(newTetri);\n    newTetri.tetri.map(value => {\n      newGrid[newTetri.position.y + value.y][newTetri.position.x + value.x] = 1;\n    });\n    setFrontGrid([...newGrid]);\n  };\n\n  const removeCompletLine = () => {\n    let newGrid = [...backGrid];\n    backGrid.map((row, i) => {\n      if (!row.find(value => value === 'white')) {\n        newGrid.splice(i, 1);\n        newGrid.splice(0, 0, new Array(WIDTH).fill('white'));\n      }\n    });\n    setBackGrid(newGrid);\n  };\n\n  const handlerKeydown = (e) => {\n    if (e.keyCode === 37) {\n      if (!testCollision(tetri.moveLeft())) {\n        fillTetri(tetri.moveLeft());\n      }\n    } else if (e.keyCode === 39) {\n      if (!testCollision(tetri.moveRight())) {\n        fillTetri(tetri.moveRight());\n      }\n    } else if (e.keyCode === 38) {\n      if (!testCollision(tetri.rotate())) {\n        fillTetri(tetri.rotate());\n      }\n    } else if (e.keyCode === 40) {\n      if (!testCollision(tetri.moveDown())) {\n        fillTetri(tetri.moveDown());\n      } else {\n        let newGrid = [...backGrid];\n        let newTetri = tetriList[Math.round(Math.random() * 6)];\n        tetri.tetri.map(value => {\n          newGrid[tetri.position.y + value.y][tetri.position.x + value.x] = tetri.color;\n        });\n        setBackGrid([...newGrid]);\n        if (!testCollision(newTetri)) {\n          removeCompletLine();\n          fillTetri(newTetri);\n        } else {\n          alert('Game Over');\n          newGrid = newGrid.map(row => row.map(value => 'white'));\n          setBackGrid(newGrid);\n          fillTetri(newTetri);\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', handlerKeydown);\n    return (() => document.removeEventListener('keydown', handlerKeydown));\n  });\n\n  useEffect(() => {\n    let HTMLgrid = [];\n\n    for (let y = 0; y < HEIGHT; ++y) {\n      let row = [];\n      for (let x = 0; x < WIDTH; ++x) {\n        row.push(<td style={{\n          backgroundColor: frontGrid[y][x] ? tetri.color : backGrid[y][x]\n        }} key={`${y * WIDTH + x}`}></td>);\n      }\n      HTMLgrid.push(<tr key={`${y}`}>{row}</tr>);\n    }\n    setHTMLgrid(HTMLgrid);\n  }, [frontGrid]);\n\n  useInterval(() => {\n    if (!testCollision(tetri.moveDown())) {\n      fillTetri(tetri.moveDown());\n    } else {\n      let newGrid = [...backGrid];\n      let newTetri = tetriList[Math.round(Math.random() * 6)];\n      tetri.tetri.map(value => {\n        newGrid[tetri.position.y + value.y][tetri.position.x + value.x] = tetri.color;\n      });\n      setBackGrid([...newGrid]);\n      if (!testCollision(newTetri)) {\n        removeCompletLine();\n        fillTetri(newTetri);\n      } else {\n        alert('Game Over');\n        newGrid = newGrid.map(row => row.map(value => 'white'));\n        setBackGrid(newGrid);\n        fillTetri(newTetri);\n      }\n    }\n  }, 1000);\n\n  return (\n    <div>\n      <button className='btn btn-danger m-3' onClick={() => fillTetri(tetri)}>Fill</button>\n      <table>\n        <tbody>\n          {HTMLgrid}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Tetris;\n","export default __webpack_public_path__ + \"static/media/tetris.7ffe6109.mp3\";","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\nimport Tetris from './Tetris/Tetris.js';\nimport useSound from 'use-sound';\nimport TetrisSound from '../../audio/tetris.mp3';\n\nconst Game = () => {\n  const socket = useContext(SocketContext);\n  const [players, setPlayers] = useState({});\n  const [room, setRoom] = useState({});\n  const history = useHistory();\n  const regex = /#([a-zA-Z]+)\\[([a-zA-Z]+)\\]/;\n  const [volume, setVolume] = useState(0.1);\n  const [play, { stop }] = useSound(TetrisSound, { volume });\n\n  useEffect(() => {\n    // eslint-disable-next-line no-restricted-globals\n    const urlParams = regex.exec(location.hash);\n\n    if (!urlParams) {\n      history.push('/Home');\n    } else {\n      socket.emit('getMyRoom', (error, room) => {\n        if (error) {\n          history.push('/Home');\n        } else {\n          setRoom(room);\n          setPlayers(room.players);\n        }\n      });\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    socket.on('updatePlayers', (players) => {\n      setPlayers(players);\n    });\n  }, [players, socket]);\n\n  useEffect(() => {\n    play();\n    return(() => {\n      stop();\n    });\n  }, [play]);\n\n  const leave = () => {\n    socket.emit('leaveRoom');\n    history.push('/Room');\n  };\n\n  const muteMusic = () => {\n    setVolume((volume === 0) ? 0.1 : 0);\n  };\n\n  const decrease = () => {\n    setVolume(volume - 0.01);\n  };\n\n  const increase = () => {\n    setVolume(volume + 0.01);\n  };\n\n  return (\n    <div className='container'>\n      <h1>{room.name}</h1>\n      {\n        Object.keys(players).map((key, i) => <p key={i}>{players[key].name}</p>)\n      }\n      <button className='btn btn-danger' onClick={decrease}>-</button>\n      <button className='btn btn-danger' onClick={muteMusic}>Mute</button>\n      <button className='btn btn-danger' onClick={increase}>+</button>\n      <Tetris />\n      <button className='btn btn-danger' onClick={leave}>Leave</button>\n    </div>\n  );\n};\n\nexport default Game;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst Home = () => {\n  const history = useHistory();\n\n  const play = () => {\n    history.push('/Room');\n  };\n\n  return (\n    <div className='container'>\n      <h1>Bienvenue sur Red Tetris</h1>\n      <button className='btn btn-danger' onClick={play}>Play</button>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\nimport './Room.css';\n\nconst Room = () => {\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [rooms, setRooms] = useState({});\n\n  const create_room = () => {\n    history.push('/New-room');\n  };\n\n  const joinRoom = (roomName) => {\n    history.push(`/Join-room#${roomName}`);\n  };\n\n  useEffect(() => {\n    socket.emit('getRooms', (rooms) => {\n      setRooms(rooms);\n    });\n  }, [socket]);\n\n  useEffect(() => {\n    socket.on('updateRooms', (rooms) => {\n      setRooms(rooms);\n    });\n  }, [rooms]);\n\n  return (\n    <div className='container'>\n      <h1>Room list</h1>\n      <div className='list-group mb-3'>\n      {\n        Object.keys(rooms).map((key, i) => {\n          return (\n            <li className='list-group-item p-1' key={i}>\n              <label><b>{rooms[key].name}</b></label>\n              <button className='btn btn-danger float-right' onClick={() => joinRoom(rooms[key].name)}>Join</button>\n            </li>\n          );\n        })\n      }\n      </div>\n      <button className='btn btn-danger' onClick={create_room}>Create New Room</button>\n    </div>\n  );\n};\n\nexport default Room;\n","import React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\n\nconst New_room = () => {\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleRoomChange = (e) => {\n    setRoom(e.target.value);\n  };\n\n  const create = (e) => {\n    e.preventDefault();\n    if (name && room) {\n      socket.emit('join', name);\n      socket.emit('addRoom', room, (error) => {\n        if (!error) {\n          history.push(`/#${room}[${name}]`);\n        } else {\n          alert('Room name already exist');\n        }\n      });\n    }\n  };\n\n  return (\n    <div className='container'>\n      <h1>New Room Creation</h1>\n      <form>\n        <div className='form-group'>\n          <input className='form-control' type='text' placeholder='Username' onChange={handleNameChange} />\n        </div>\n        <div className='form-group'>\n          <input className='form-control' type='text' placeholder='Room name' onChange={handleRoomChange}/>\n        </div>\n        <input className='btn btn-danger' type='submit' value='Create' onClick={create} />\n      </form>\n    </div>\n  );\n};\n\nexport default New_room;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport SocketContext from '../../containers/context.js';\n\nconst JoinRoom = () => {\n  const socket = useContext(SocketContext);\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const history = useHistory();\n  const regex = /#([a-zA-Z]+)/;\n\n  useEffect(() => {\n    // eslint-disable-next-line no-restricted-globals\n    setRoom(regex.exec(location.hash)[1]);\n    // eslint-disable-next-line no-restricted-globals\n  }, [location.hash]);\n\n  const handleChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const join = (e) => {\n    e.preventDefault();\n    if (name) {\n      socket.emit('join', name);\n      socket.emit('joinRoom', room, (error) => {\n        if (!error) {\n          history.push(`/#${room}[${name}]`);\n        } else {\n          alert('Username already taken');\n        }\n      });\n    }\n  };\n\n  return (\n    <div className='container'>\n      <h1>Join \"{room}\"</h1>\n      <form>\n        <div className='form-group'>\n          <input className='form-control' placeholder='Username' onChange={handleChange} />\n        </div>\n        <input className='btn btn-danger' type='submit' value='Join' onClick={join} />\n      </form>\n    </div>\n  );\n};\n\nexport default JoinRoom;\n","import React from 'react';\nimport { BrowserRouter as Routes, Route } from 'react-router-dom';\nimport socket from './socket.js';\nimport SocketContext from './context.js';\nimport Game from '../components/Game/Game.js';\nimport Home from '../components/Home/Home.js';\nimport Room from '../components/Room/Room.js';\nimport New_room from '../components/New_room/New_room.js';\nimport JoinRoom from '../components/Join_room/Join_room.js';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <SocketContext.Provider value={socket}>\n      <Routes>\n        <Route path='/' exact component={Game} />\n        <Route path='/Home' component={Home} />\n        <Route path='/Room' component={Room} />\n        <Route path='/New-room' component={New_room} />\n        <Route path='/Join-room' component={JoinRoom} />\n      </Routes>\n    </SocketContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './client/containers/App.js';\n\nReactDom.render(<App />, document.getElementById('tetris'));\n","const params = {\n  server: {\n    host: 'localhost',\n    port: 3004,\n    get url(){ return ('http://' + this.host + ':' + this.port); }\n  },\n};\n\nmodule.exports = params;\n"],"sourceRoot":""}